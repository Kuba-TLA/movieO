package utils;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

import java.util.Set;

public class SeleniumUtils {

    public static String switchToWindowAndVerifyTitle(WebDriver driver, ExtentManager extentManager){
        String currentWindowID = driver.getWindowHandle();
        String title = "Verified";

        Set<String> allWindowIDs = driver.getWindowHandles();
        for(String each: allWindowIDs){
            if (!each.equals(currentWindowID)){
                driver.switchTo().window(each);
                title = driver.getTitle();
                extentManager.logScreenshot();
                driver.close();
            }
        }

        driver.switchTo().window(currentWindowID);
        return title;

    }
    public static void switchToNextWindow(WebDriver driver){
        String currentWindowId = driver.getWindowHandle();
        Set<String> allWindowIDs = driver.getWindowHandles();

        for (String eachWindow : allWindowIDs){
            if(!eachWindow.equalsIgnoreCase(currentWindowId)){
                driver.switchTo().window(eachWindow);
            }
        }
        import org.openqa.selenium.By;
        import org.openqa.selenium.WebDriver;
        import org.openqa.selenium.WebElement;
        import org.openqa.selenium.support.ui.Select;

        public class DropdownUtils {
            // Method to select an option by visible text
            public static void selectByVisibleText(WebElement dropdownElement, String visibleText) {
                Select select = new Select(dropdownElement);
                select.selectByVisibleText(visibleText);
            }

            // Method to select an option by value attribute
            public static void selectByValue(WebElement dropdownElement, String value) {
                Select select = new Select(dropdownElement);
                select.selectByValue(value);
            }

            // Method to select an option by index
            public static void selectByIndex(WebElement dropdownElement, int index) {
                Select select = new Select(dropdownElement);
                select.selectByIndex(index);
            }

            // Add more methods as needed...
        }

    }
}
